"use strict";(self["webpackChunkpvbackend"]=self["webpackChunkpvbackend"]||[]).push([[887],{6534:function(e,a,t){t.r(a),t.d(a,{default:function(){return I}});var l=t(3396),d=t(7139);const i=e=>((0,l.dD)("data-v-c4ceba0e"),e=e(),(0,l.Cn)(),e),o={class:"layout"},n=i((()=>(0,l._)("button",{class:"out",style:{width:"42px",height:"32px","line-height":"35px"}}," 登出 ",-1))),m={key:0},p=i((()=>(0,l._)("h1",null,"旅行團",-1))),s=i((()=>(0,l._)("div",{style:{"font-size":"14px",color:"#515a6e",padding:"8px 0"}},"訓練起始日期:",-1))),u=i((()=>(0,l._)("div",{style:{"font-size":"14px",color:"#515a6e",padding:"8px 0"}},"出發日期:",-1))),r={key:1},c=i((()=>(0,l._)("h1",null,"行程",-1))),w={style:{"font-size":"14px",color:"#515a6e","padding-bottom":"8px"}},h=i((()=>(0,l._)("div",{style:{"font-size":"14px",color:"#515a6e",padding:"8px 0"}},"訓練日期:",-1))),b=i((()=>(0,l._)("div",{style:{"font-size":"14px",color:"#515a6e",padding:"8px 0"}},"出發日期:",-1)));function y(e,a,t,i,y,_){const x=(0,l.up)("Side"),g=(0,l.up)("Button"),V=(0,l.up)("Input"),f=(0,l.up)("FormItem"),I=(0,l.up)("DatePicker"),k=(0,l.up)("Space"),D=(0,l.up)("Form"),W=(0,l.up)("Modal"),v=(0,l.up)("Table"),U=(0,l.up)("Page"),z=(0,l.up)("Layout"),C=(0,l.Q2)("width");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(x,{activePage:6}),n,(0,l.wy)(((0,l.wg)(),(0,l.j4)(z,{style:{marginLeft:"300px"}},{default:(0,l.w5)((()=>[1==y.showMore?((0,l.wg)(),(0,l.iD)("div",m,[p,(0,l.Wm)(g,{onClick:a[0]||(a[0]=e=>y.modal1=!0),class:"add ivu-mb"},{default:(0,l.w5)((()=>[(0,l.Uk)("新增 +")])),_:1}),(0,l.Wm)(W,{title:"新增旅行團",modelValue:y.modal1,"onUpdate:modelValue":a[4]||(a[4]=e=>y.modal1=e),width:"700px",closable:!0,onOnOk:_.ok,onOnCancel:e.cancel},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{width:500,id:"addForm",model:y.addItem,"label-width":80,enctype:"multipart/form-data",method:"post"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"名稱:",prop:"precautions","label-width":45,class:"ivu-mb"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{modelValue:y.addItem.title,"onUpdate:modelValue":a[1]||(a[1]=e=>y.addItem.title=e),placeholder:"輸入旅程名稱"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(k,{size:"large",rap:"",class:"ivu-mb"},{default:(0,l.w5)((()=>[s,(0,l.Wm)(I,{modelValue:y.addItem.trianing_date,"onUpdate:modelValue":a[2]||(a[2]=e=>y.addItem.trianing_date=e),type:"date",options:e.options2,placement:"bottom-end",placeholder:"Select date",style:{width:"200px"}},null,8,["modelValue","options"])])),_:1}),(0,l.Wm)(k,{size:"large",rap:"",class:"ivu-mb"},{default:(0,l.w5)((()=>[u,(0,l.Wm)(I,{modelValue:y.addItem.date,"onUpdate:modelValue":a[3]||(a[3]=e=>y.addItem.date=e),type:"date",options:e.options2,placement:"bottom-end",placeholder:"Select date",style:{width:"200px"}},null,8,["modelValue","options"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","onOnOk","onOnCancel"]),(0,l.Wm)(v,{class:"Table",border:"",columns:y.columns,data:y.myData},{action:(0,l.w5)((({row:t,index:d})=>[(0,l.Wm)(g,{size:"small",style:{"margin-right":"5px"},onClick:a=>{e.tabIndex=d,_.More()}},{default:(0,l.w5)((()=>[(0,l.Uk)("編輯")])),_:2},1032,["onClick"]),(0,l.Wm)(g,{size:"small",onClick:a[5]||(a[5]=e=>_.remove())},{default:(0,l.w5)((()=>[(0,l.Uk)("刪除")])),_:1})])),_:1},8,["columns","data"]),(0,l.Wm)(U,{class:"nextPage",total:40,size:""})])):(0,l.kq)("",!0),2==y.showMore?((0,l.wg)(),(0,l.iD)("div",r,[c,(0,l.wy)(((0,l.wg)(),(0,l.j4)(D,{id:"FormAll",ref:"moreDetail",model:e.moreDetail,rules:e.ruleValidate,"label-width":80},{default:(0,l.w5)((()=>[(0,l._)("p",w,"編號:"+(0,d.zw)(e.index),1),(0,l.Wm)(f,{label:"名稱:",prop:"precautions","label-width":45},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{modelValue:y.myData[e.tabIndex].title,"onUpdate:modelValue":a[6]||(a[6]=a=>y.myData[e.tabIndex].title=a),placeholder:"輸入旅程名稱"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(k,{size:"large",class:"ivu-mb"},{default:(0,l.w5)((()=>[h,(0,l.Wm)(I,{modelValue:y.myData[e.tabIndex].trianing_date,"onUpdate:modelValue":a[7]||(a[7]=a=>y.myData[e.tabIndex].trianing_date=a),type:"date",options:e.options2,placement:"bottom-end",placeholder:"Select date",style:{width:"200px"}},null,8,["modelValue","options"])])),_:1}),(0,l.Wm)(k,{size:"large",class:"ivu-mb"},{default:(0,l.w5)((()=>[b,(0,l.Wm)(I,{type:"date",modelValue:y.myData[e.tabIndex].date,"onUpdate:modelValue":a[8]||(a[8]=a=>y.myData[e.tabIndex].date=a),placement:"bottom-end",placeholder:"Select date",style:{width:"200px"}},null,8,["modelValue"])])),_:1}),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{label:"人數上限:",prop:"max","label-width":72},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{modelValue:y.myData[e.tabIndex].max_num,"onUpdate:modelValue":a[9]||(a[9]=a=>y.myData[e.tabIndex].max_num=a),placeholder:"10"},null,8,["modelValue"])])),_:1})),[[C,150]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{label:"已報名人數:",prop:"applicants","label-width":86},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{modelValue:y.myData[e.tabIndex].applicants,"onUpdate:modelValue":a[10]||(a[10]=a=>y.myData[e.tabIndex].applicants=a),placeholder:"0"},null,8,["modelValue"])])),_:1})),[[C,150]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{label:"審核通過人數:",prop:"pass","label-width":100},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{modelValue:y.myData[e.tabIndex].pass,"onUpdate:modelValue":a[11]||(a[11]=a=>y.myData[e.tabIndex].pass=a),placeholder:"0"},null,8,["modelValue"])])),_:1})),[[C,170]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{label:"候補人數:",prop:"wait","label-width":72},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{modelValue:y.myData[e.tabIndex].wait,"onUpdate:modelValue":a[12]||(a[12]=a=>y.myData[e.tabIndex].wait=a),placeholder:"0"},null,8,["modelValue"])])),_:1})),[[C,150]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,{label:"出團狀態:",prop:"max","label-width":72,class:"ivu-mb"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{modelValue:y.myData[e.tabIndex].state,"onUpdate:modelValue":a[13]||(a[13]=a=>y.myData[e.tabIndex].state=a),placeholder:""},null,8,["modelValue"])])),_:1})),[[C,150]]),(0,l.wy)(((0,l.wg)(),(0,l.j4)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g,{size:"small",style:{"margin-right":"5px",float:"right"},onClick:a[14]||(a[14]=e=>_.reTable())},{default:(0,l.w5)((()=>[(0,l.Uk)("返回")])),_:1}),(0,l.Wm)(g,{size:"small",style:{"margin-right":"5px",float:"right"},onClick:a[15]||(a[15]=e=>_.reTable())},{default:(0,l.w5)((()=>[(0,l.Uk)("確定")])),_:1})])),_:1})),[[C,700]])])),_:1},8,["model","rules"])),[[C,700]])])):(0,l.kq)("",!0)])),_:1})),[[C,900]])])}t(7658);var _=t(114),x=t(4161),g={data(){return{dindex:0,showMore:1,modal1:!1,columns:[{title:"旅程編號",key:"trip_no"},{title:"名稱",key:"planet_subtitle",width:160},{title:"訓練日期",key:"training_date",width:110},{title:"出發日期",key:"trip_date",width:110},{title:"報名人數",key:"signup_num",width:96},{title:"審核通過人數",key:"pass",width:130},{title:"候補人數",key:"waiting_people",width:96},{title:"出團狀態",key:"state",width:96},{title:"編輯",slot:"action",width:130}],myData:[{number:1,title:"月球背面探索之旅1",trianing_date:"1117/11/02",date:"2022/01/21",applicants:"8/8",pass:"7/8",wait:"5",state:"成團",max_num:"10"},{number:2,title:"月球背面探索之旅2",trianing_date:"1117/11/02",date:"202/01/21",applicants:"8/8",pass:"8",wait:"",state:"成團",max_num:"10"}],addItem:[{number:"",title:"",date:"",max:"",applicants:"",wait:"",trianing_date:"",daytrain:""}]}},components:{Side:_.Z},methods:{More(){this.showMore=2},reTable(){this.showMore=1},remove(e){this.data.splice(e,1)},ok(){this.$Message.info("新增成功");const e={number:this.addItem.index,title:this.addItem.title,trianing_date:this.addItem.trianing_date,date:this.addItem.date,applicants:this.addItem.applicants,pass:this.addItem.pass,wait:this.addItem.wait,state:this.addItem.state};this.myData.push(e),this.addItem={number:"",title:"",trianing_date:"",date:"",applicants:"",pass:"",wait:"",state:""}}},created(){x.Z.get("http://localhost/PV/PVBackend/public/php/Group.php").then((e=>{this.myData=e.data})).catch((e=>{console.error(e)}))}},V=t(89);const f=(0,V.Z)(g,[["render",y],["__scopeId","data-v-c4ceba0e"]]);var I=f}}]);
//# sourceMappingURL=Group.js.map